<html>
  <head>
    <meta charset="utf-8">
    <title>RACIUS CARE - COMÉRCIO E PRESTAÇÃO DE SERVIÇOS</title>
    <meta name="description" content="RACIUS CARE - COMÉRCIO E PRESTAÇÃO DE SERVIÇOS">

    <style>
      @import url('https://fonts.googleapis.com/css2?family=Madimi+One&family=Pacifico&family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&family=Work+Sans:ital,wght@0,100..900;1,100..900&display=swap')
    </style>
  </head>

  <body>
    <h1>Factura</h1>

    <aside>
      <h3>RACIUS CARE - COMÉRCIO E PRESTAÇÃO DE SERVIÇOS</h3>
      <ul>
         <li><strong>NIF: </strong>32372483343</li>
         <li><strong>Endereço: </strong>Luanda, Cazenga</li>
         <li><strong>Tel.: </strong>934543246, 934543246</li>
         <li><strong>Email: </strong>geral@raciuscare.com</li>
   </ul>
    </aside>

    <aside>
      <ul>
         <span class="text-bold">Dados do cliente</span>
         <li><strong>Nome: </strong> {{ firstName }} {{ lastName }}</li>
         <li><strong>Telefone: </strong> {{ phone }}</li>
         <li><strong>Endereço: </strong> {{ address }}</li>
     </ul>
    </aside>

    <dl id="informations">
      <dt>Referência</dt>
      <dd>{{ order_id }}</dd>
      <dt>Data</dt>
      <dd>{{ createdAt }}</dd>
    </dl>

    {% set ns = namespace(total_price=0) %}

    <table>
      <thead>
        <tr>
         <th>Descrição</th>
         <th>IVA(%)</th>
         <th>Desc.</th>
         <th>Qtd.</th>
         <th>Valor unit.</th>
         <th>Total unit.</th>
        </tr>
      </thead>
      <tbody>
         {% for product in products %}
        <tr>
          <td>{{ product['name'] }}</td>
          <td>-</td>  
          <td>-</td>  
          <td>{{ product['quantity'] }}</td>
          <td>{{ "{:,.2f}".format(product['price']) }} kz</td>
          <td>{{ "{:,.2f}".format(product['price'] * product['quantity']) }} kz</td>  
          {% set ns.total_price = ns.total_price + (product['price'] * product['quantity']) %}
         </tr>
        {% endfor %}
      </tbody>
    </table>

    <footer>
      <table id="total">
        <thead>
          <tr>
            <th>Data</th>
            <th>Total a pagar</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>{{ createdAt }}</td>
            <td>{{ "{:,.2f}".format(ns.total_price) }} kz</td>
          </tr>
        </tbody>
      </table>
    </footer>
  </body>
</html>